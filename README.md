# SmartServiceHub
A full-stack Java + Preact service marketplace with AI-powered recommendations and real-time chat.
You can create a service post to request a service and other users can comment and accept you proposal. 

## Dependencies 
- Java 21
- NodeJS
- npm
- Postgres
- Git (duh)

## Recomended
- Postman

## How to run
1. install dependencies
2. clone the repo with "git clone https://github.com/rafaelxky/SmartServiceHub"
3. create a db in postgres with the name "servicehub_dev". You can also change the name of the db in "/SmartServiceHub-backend/src/main/resource/application.properties"
4. go to ./SmartServiceHub/SmartServiceHub-backend
5. run "mvn spring-boot:run"
6. go to ./SmartServiceHub/SmartServiceHub-frontend/src/frontend
7. run "npm run dev"
8. click on the URL generated by node
9. You can test the backend at "http://localhost:8080/"

## Authentication
This app uses basic autentication / autorization were Username is the username and password is the passoword altough this is likelly to change in the future.
Some endpoints will require authentication, these can be seen at "/config/SecurityConfig.java" or in their respective controllers from the notations.
Accounts may be USER or ADMIN.
When the program is ran, it will automatically create an ADMIN user with the name "admin" and password "admin123", this can be changed in "/config/DataInitialization.java".

# Models
## User
- AppUser <- user model to interact with db 
- UserPublicDto <- user model for showing (hides password)
- UserCreateDto <- user model for creation
## AppService
- AppService <- Service post model to interact with db
- AppServicePublicDto <- Service post model for showing 
- AppServiceCreateDto <- Service post model from creation
## Comments
- Comment <- comment model for interaction with db
- CommentCreateDto <- comment model for creation
- CommentPublicDto <- comment model for showing
## Others
- ApiResponse <- model for responding to requests, however this must be changed in the future as it is a source of inconsistencies
- Roles <- Enum for roles "ADMIN, USER, MODERATOR"1

## CORS policy
Currently this app allows CORS from all sources tough this can be changed at "/config/WebConfig.java"

# Endpoints
Can be found under the folder "controllers" or listed at "http://localhost:8080/home"

## User endpoints
- /users POST <- creates a user, users are created like 
```JSON 
{"username": "name", "email": "mail@mail.com", "password": "password123"} 
```
- /users/{id} GET <- gets a public user by id 
- /users GET <- requires admin loggin, gets a list of all users
- /users/{id} PUT <- updates a user by id, requires you to be logged in as the user you are trying to update, syntax is similar to POST
- /users DELETE <- deletes a user by id, requires you to be logged in as the user you are trying to delete
- /users/unique?limit=int&offset=int GET <- gets unique public users based on a limit and offset 

## App services endpoints
- /services POST <- creates a post, must be logged in. Post are created like 
```JSON
{"title": "title", "content": "Stuffs"}
```
- /services GET <- gets a list of all services 
- /services/{id} GET <- gets a service by id
- /services/limit/{limit} GET <- gets a list of services of size {limit}
- /services/{id} PUT <- updates a service by id, must be logged in as the user who created the post
- /services/{id} DELETE <- deletes a service by id, must be logged in as the user who created the service
- /services/unique?limiy=int&offset=int GET <- gets a unique public list of services based on limit and offset

## Comments endpoints

### Implemented
- User creation
- Post creation
- Comment creation
- User autentication
- Roles
### TODO
- AI integration
- Frontend implementation
- Adaptive recomendations
- Docker integration
- Tests
- Chat
- Job acceptance
- Skill matching
